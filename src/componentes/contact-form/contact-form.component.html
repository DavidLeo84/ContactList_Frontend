<h2 class="mb-5">
    @if (contact) {
    Editar
    } @else {
    Nuevo
    } contacto
</h2>

<div class="row row-cols-3 justify-content-center">
    @if (form) {
    <div>
        @if (errors.length) {
        <div class="alert alert-danger">
            <p>Ha sucedido los siguientes errores:</p>
            <ul>
                @for (error of errors; track error) {
                <li>{{error}}</li>
                }
            </ul>
        </div>
        }
        <form [formGroup]="form" (ngSubmit)="save()">

            <div class="mb-3">
                <label for="name"></label>
                <input type="text" id="name" placeholder="Nombre" class="form-control" formControlName="name">
            </div>

            @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
            <p class="invalid-feedback d-block">El nombre es obligatorio</p>
            }

            <div class="mb-3">
                <label for="email"></label>
                <input type="email" id="email" placeholder="Correo electrónico" class="form-control"
                    formControlName="email">
            </div>

            @if (form.get('email')?.hasError('required') && form.get('name')?.touched) {
            <p class="invalid-feedback d-block">El email es obligatorio</p>
            }
            @if (form.get('email')?.hasError('required') && form.get('name')?.touched) {
            <p class="invalid-feedback d-block">El email no es válido</p>
            }


            <div class="mb-3">
                <label for="phone"></label>
                <input type="number" id="phone" placeholder="Teléfono" class="form-control" formControlName="phone">
            </div>

            @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
            <p class="invalid-feedback d-block">El teléfono es obligatorio</p>
            }

            <div class="text-end">
                <button type="submit" class="btn btn-primary m-2">
                    @if (contact) {
                    Actualizar
                    } @else {
                    Crear
                    } contacto
                </button>
                <button type="button" class="btn btn-secondary" routerLink="/">Cancelar</button>
            </div>
        </form>
    </div>
    }
</div>